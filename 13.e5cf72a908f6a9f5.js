(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[13],{13:(We,_e,Q)=>{Q.r(_e),Q.d(_e,{Angular:()=>X,CaptureConsole:()=>_,Debug:()=>S,Dedupe:()=>$,Ember:()=>R,ExtraErrorData:()=>N,Offline:()=>re,ReportingObserver:()=>de,RewriteFrames:()=>Pe,SessionTiming:()=>Be,Transaction:()=>Le,Vue:()=>Ne});var w=Q(188),C=Q(4419),J=Q(8674),B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,F=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/,X=function(){function u(n){void 0===n&&(n={}),this.name=u.id,B&&C.kg.log("You are still using the Angular integration, consider moving to @sentry/angular"),this._angular=n.angular||(0,J.R)().angular,this._angular?this._module=this._angular.module(u.moduleName,[]):B&&C.kg.error("AngularIntegration is missing an Angular instance")}return u.prototype.setupOnce=function(n,a){var f=this;this._module&&(this._getCurrentHub=a,this._module.config(["$provide",function(l){l.decorator("$exceptionHandler",["$delegate",f._$exceptionHandlerDecorator.bind(f)])}]))},u.prototype._$exceptionHandlerDecorator=function(n){var a=this;return function(f,l){var g=a._getCurrentHub&&a._getCurrentHub();g&&g.getIntegration(u)&&g.withScope(function(b){l&&b.setExtra("cause",l),b.addEventProcessor(function(E){var P=E.exception&&E.exception.values&&E.exception.values[0];if(P){var A=F.exec(P.value||"");A&&(P.type=A[1],P.value=A[2],E.message=P.type+": "+P.value,E.extra=(0,w.__assign)((0,w.__assign)({},E.extra),{angularDocs:A[3].substr(0,250)}))}return E}),g.captureException(f)}),n(f,l)}},u.id="AngularJS",u.moduleName="ngSentry",u}(),O=Q(1190),Z=Q(2301),G=Q(5847),q=(0,J.R)(),_=function(){function u(n){void 0===n&&(n={}),this.name=u.id,this._levels=C.RU,n.levels&&(this._levels=n.levels)}return u.prototype.setupOnce=function(n,a){"console"in q&&this._levels.forEach(function(f){f in q.console&&(0,O.hl)(q.console,f,function(l){return function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];var E=a();E.getIntegration(u)&&E.withScope(function(P){P.setLevel((0,Z.E)(f)),P.setExtra("arguments",g),P.addEventProcessor(function(M){return M.logger="console",M});var A=(0,G.nK)(g," ");"assert"===f?!1===g[0]&&(A="Assertion failed: "+((0,G.nK)(g.slice(1)," ")||"console.assert"),P.setExtra("arguments",g.slice(1)),E.captureMessage(A)):"error"===f&&g[0]instanceof Error?E.captureException(g[0]):E.captureMessage(A)}),l&&l.apply(q.console,g)}})})},u.id="CaptureConsole",u}(),S=function(){function u(n){this.name=u.id,this._options=(0,w.__assign)({debugger:!1,stringify:!1},n)}return u.prototype.setupOnce=function(n,a){n(function(f,l){var g=a().getIntegration(u);return g&&(0,C.Cf)(function(){g._options.stringify?(console.log(JSON.stringify(f,null,2)),l&&console.log(JSON.stringify(l,null,2))):(console.log(f),l&&console.log(l))}),f})},u.id="Debug",u}(),$=function(){function u(){this.name=u.id}return u.prototype.setupOnce=function(n,a){n(function(f){var l=a().getIntegration(u);if(l){try{if(function V(u,n){return!(!n||!function oe(u,n){var a=u.message,f=n.message;return!(!a&&!f||a&&!f||!a&&f||a!==f||!Y(u,n)||!ie(u,n))}(u,n)&&!function k(u,n){var a=pe(n),f=pe(u);return!!(a&&f&&a.type===f.type&&a.value===f.value&&Y(u,n)&&ie(u,n))}(u,n))}(f,l._previousEvent))return B&&C.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return l._previousEvent=f}return l._previousEvent=f}return f})},u.id="Dedupe",u}();function ie(u,n){var a=ce(u),f=ce(n);if(!a&&!f)return!0;if(a&&!f||!a&&f||f.length!==a.length)return!1;for(var l=0;l<f.length;l++){var g=f[l],b=a[l];if(g.filename!==b.filename||g.lineno!==b.lineno||g.colno!==b.colno||g.function!==b.function)return!1}return!0}function Y(u,n){var a=u.fingerprint,f=n.fingerprint;if(!a&&!f)return!0;if(a&&!f||!a&&f)return!1;try{return a.join("")===f.join("")}catch{return!1}}function pe(u){return u.exception&&u.exception.values&&u.exception.values[0]}function ce(u){var n=u.exception;if(n)try{return n.values[0].stacktrace.frames}catch{return}else if(u.stacktrace)return u.stacktrace.frames}var m=Q(2739),R=function(){function u(n){void 0===n&&(n={}),this.name=u.id,this._Ember=n.Ember||(0,J.R)().Ember}return u.prototype.setupOnce=function(n,a){var f=this;if(this._Ember){var l=this._Ember.onerror;this._Ember.onerror=function(g){if(a().getIntegration(u)&&a().captureException(g,{originalException:g}),"function"==typeof l)l.call(f._Ember,g);else if(f._Ember.testing)throw g},this._Ember.RSVP.on("error",function(g){a().getIntegration(u)&&a().withScope(function(b){(0,m.V9)(g,Error)?(b.setExtra("context","Unhandled Promise error detected"),a().captureException(g,{originalException:g})):(b.setExtra("reason",g),a().captureMessage("Unhandled Promise error detected"))})})}else B&&C.kg.error("EmberIntegration is missing an Ember instance")},u.id="Ember",u}(),x=Q(9437),N=function(){function u(n){this.name=u.id,this._options=(0,w.__assign)({depth:3},n)}return u.prototype.setupOnce=function(n,a){n(function(f,l){var g=a().getIntegration(u);return g?g.enhanceEventWithErrorData(f,l):f})},u.prototype.enhanceEventWithErrorData=function(n,a){var f;if(!a||!a.originalException||!(0,m.VZ)(a.originalException))return n;var l=a.originalException.name||a.originalException.constructor.name,g=this._extractErrorData(a.originalException);if(g){var b=(0,w.__assign)({},n.contexts),E=(0,x.Fv)(g,this._options.depth);return(0,m.PO)(E)&&(b=(0,w.__assign)((0,w.__assign)({},n.contexts),((f={})[l]=(0,w.__assign)({},E),f))),(0,w.__assign)((0,w.__assign)({},n),{contexts:b})}return n},u.prototype._extractErrorData=function(n){var a,f,l,g;try{var b=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],E={};try{for(var P=(0,w.__values)(Object.keys(n)),A=P.next();!A.done;A=P.next())-1===b.indexOf(M=A.value)&&(E[M]=(0,m.VZ)(z=n[M])?z.toString():z)}catch(ne){a={error:ne}}finally{try{A&&!A.done&&(f=P.return)&&f.call(P)}finally{if(a)throw a.error}}if("function"==typeof n.toJSON){var L=n.toJSON();try{for(var K=(0,w.__values)(Object.keys(L)),U=K.next();!U.done;U=K.next()){var M,z;E[M=U.value]=(0,m.VZ)(z=L[M])?z.toString():z}}catch(ne){l={error:ne}}finally{try{U&&!U.done&&(g=K.return)&&g.call(K)}finally{if(l)throw l.error}}}return E}catch(ne){B&&C.kg.error("Unable to extract extra data from the Error object:",ne)}return null},u.id="ExtraErrorData",u}(),H=Q(5535),ee=Q(4346),te=Q.n(ee),re=function(){function u(n){void 0===n&&(n={}),this.name=u.id,this.global=(0,J.R)(),this.maxStoredEvents=n.maxStoredEvents||30,this.offlineEventStore=te().createInstance({name:"sentry/offlineEventStore"})}return u.prototype.setupOnce=function(n,a){var f=this;this.hub=a(),"addEventListener"in this.global&&this.global.addEventListener("online",function(){f._sendEvents().catch(function(){B&&C.kg.warn("could not send cached events")})}),n(function(l){return f.hub&&f.hub.getIntegration(u)&&"navigator"in f.global&&"onLine"in f.global.navigator&&!f.global.navigator.onLine?(f._cacheEvent(l).then(function(g){return f._enforceMaxEvents()}).catch(function(g){B&&C.kg.warn("could not cache event while offline")}),null):l}),"navigator"in this.global&&"onLine"in this.global.navigator&&this.global.navigator.onLine&&this._sendEvents().catch(function(){B&&C.kg.warn("could not send cached events")})},u.prototype._cacheEvent=function(n){return(0,w.__awaiter)(this,void 0,void 0,function(){return(0,w.__generator)(this,function(a){return[2,this.offlineEventStore.setItem((0,H.DM)(),(0,x.Fv)(n))]})})},u.prototype._enforceMaxEvents=function(){return(0,w.__awaiter)(this,void 0,void 0,function(){var n,a=this;return(0,w.__generator)(this,function(f){return n=[],[2,this.offlineEventStore.iterate(function(l,g,b){n.push({cacheKey:g,event:l})}).then(function(){return a._purgeEvents(n.sort(function(l,g){return(g.event.timestamp||0)-(l.event.timestamp||0)}).slice(a.maxStoredEvents<n.length?a.maxStoredEvents:n.length).map(function(l){return l.cacheKey}))}).catch(function(l){B&&C.kg.warn("could not enforce max events")})]})})},u.prototype._purgeEvent=function(n){return(0,w.__awaiter)(this,void 0,void 0,function(){return(0,w.__generator)(this,function(a){return[2,this.offlineEventStore.removeItem(n)]})})},u.prototype._purgeEvents=function(n){return(0,w.__awaiter)(this,void 0,void 0,function(){var a=this;return(0,w.__generator)(this,function(f){return[2,Promise.all(n.map(function(l){return a._purgeEvent(l)})).then()]})})},u.prototype._sendEvents=function(){return(0,w.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,w.__generator)(this,function(a){return[2,this.offlineEventStore.iterate(function(f,l,g){n.hub?(n.hub.captureEvent(f),n._purgeEvent(l).catch(function(b){B&&C.kg.warn("could not purge event from cache")})):B&&C.kg.warn("no hub found - could not send cached event")})]})})},u.id="Offline",u}(),se=Q(4334),de=function(){function u(n){void 0===n&&(n={types:["crash","deprecation","intervention"]}),this._options=n,this.name=u.id}return u.prototype.setupOnce=function(n,a){(0,se.zb)()&&(this._getCurrentHub=a,new((0,J.R)().ReportingObserver)(this.handler.bind(this),{buffered:!0,types:this._options.types}).observe())},u.prototype.handler=function(n){var a,f,l=this._getCurrentHub&&this._getCurrentHub();if(l&&l.getIntegration(u)){var g=function(A){l.withScope(function(M){M.setExtra("url",A.url);var z="ReportingObserver ["+A.type+"]",L="No details available";if(A.body){var ne,K={};for(var U in A.body)K[U]=A.body[U];M.setExtra("body",K),L="crash"===A.type?[(ne=A.body).crashId||"",ne.reason||""].join(" ").trim()||L:(ne=A.body).message||L}l.captureMessage(z+": "+L)})};try{for(var b=(0,w.__values)(n),E=b.next();!E.done;E=b.next())g(E.value)}catch(A){a={error:A}}finally{try{E&&!E.done&&(f=b.return)&&f.call(b)}finally{if(a)throw a.error}}}},u.id="ReportingObserver",u}();var ye=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function be(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];for(var a="",f=!1,l=u.length-1;l>=-1&&!f;l--){var g=l>=0?u[l]:"/";g&&(a=g+"/"+a,f="/"===g.charAt(0))}return(f?"/":"")+(a=function he(u,n){for(var a=0,f=u.length-1;f>=0;f--){var l=u[f];"."===l?u.splice(f,1):".."===l?(u.splice(f,1),a++):a&&(u.splice(f,1),a--)}if(n)for(;a--;a)u.unshift("..");return u}(a.split("/").filter(function(b){return!!b}),!f).join("/"))||"."}function Re(u){for(var n=0;n<u.length&&""===u[n];n++);for(var a=u.length-1;a>=0&&""===u[a];a--);return n>a?[]:u.slice(n,a-n+1)}function Te(u,n){var a=function le(u){var n=ye.exec(u);return n?n.slice(1):[]}(u)[2];return n&&a.substr(-1*n.length)===n&&(a=a.substr(0,a.length-n.length)),a}var Pe=function(){function u(n){var a=this;void 0===n&&(n={}),this.name=u.id,this._prefix="app:///",this._iteratee=function(f){if(!f.filename)return f;var l=/^[A-Z]:\\/.test(f.filename),g=/^\//.test(f.filename);if(l||g){var b=l?f.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):f.filename,E=a._root?function Ce(u,n){u=be(u).substr(1),n=be(n).substr(1);for(var a=Re(u.split("/")),f=Re(n.split("/")),l=Math.min(a.length,f.length),g=l,b=0;b<l;b++)if(a[b]!==f[b]){g=b;break}var E=[];for(b=g;b<a.length;b++)E.push("..");return(E=E.concat(f.slice(g))).join("/")}(a._root,b):Te(b);f.filename=""+a._prefix+E}return f},n.root&&(this._root=n.root),n.prefix&&(this._prefix=n.prefix),n.iteratee&&(this._iteratee=n.iteratee)}return u.prototype.setupOnce=function(n,a){n(function(f){var l=a().getIntegration(u);return l?l.process(f):f})},u.prototype.process=function(n){var a=n;return n.exception&&Array.isArray(n.exception.values)&&(a=this._processExceptionsEvent(a)),n.stacktrace&&(a=this._processStacktraceEvent(a)),a},u.prototype._processExceptionsEvent=function(n){var a=this;try{return(0,w.__assign)((0,w.__assign)({},n),{exception:(0,w.__assign)((0,w.__assign)({},n.exception),{values:n.exception.values.map(function(f){return(0,w.__assign)((0,w.__assign)({},f),{stacktrace:a._processStacktrace(f.stacktrace)})})})})}catch{return n}},u.prototype._processStacktraceEvent=function(n){try{return(0,w.__assign)((0,w.__assign)({},n),{stacktrace:this._processStacktrace(n.stacktrace)})}catch{return n}},u.prototype._processStacktrace=function(n){var a=this;return(0,w.__assign)((0,w.__assign)({},n),{frames:n&&n.frames&&n.frames.map(function(f){return a._iteratee(f)})})},u.id="RewriteFrames",u}(),Be=function(){function u(){this.name=u.id,this._startTime=Date.now()}return u.prototype.setupOnce=function(n,a){n(function(f){var l=a().getIntegration(u);return l?l.process(f):f})},u.prototype.process=function(n){var a,f=Date.now();return(0,w.__assign)((0,w.__assign)({},n),{extra:(0,w.__assign)((0,w.__assign)({},n.extra),(a={},a["session:start"]=this._startTime,a["session:duration"]=f-this._startTime,a["session:end"]=f,a))})},u.id="SessionTiming",u}(),Le=function(){function u(){this.name=u.id}return u.prototype.setupOnce=function(n,a){n(function(f){var l=a().getIntegration(u);return l?l.process(f):f})},u.prototype.process=function(n){for(var a=this._getFramesFromEvent(n),f=a.length-1;f>=0;f--){var l=a[f];if(!0===l.in_app){n.transaction=this._getTransaction(l);break}}return n},u.prototype._getFramesFromEvent=function(n){var a=n.exception&&n.exception.values&&n.exception.values[0];return a&&a.stacktrace&&a.stacktrace.frames||[]},u.prototype._getTransaction=function(n){return n.module||n.function?(n.module||"?")+"/"+(n.function||"?"):"<unknown>"},u.id="Transaction",u}(),Oe=Q(5947),Ee={id:"Tracing"},Fe={id:"BrowserTracing"},Se="ui.vue",Me={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]},$e=/(?:^|[-_/])(\w)/g,we="anonymous component",Ne=function(){function u(n){var a=this;this.name=u.id,this._componentsCache={},this._applyTracingHooks=function(f,l){if(!f.$options.$_sentryPerfHook){f.$options.$_sentryPerfHook=!0;var g=a._getComponentName(f),b="root"===g,E={},P=function(M){var z=(0,Oe._I)();a._rootSpan?a._finishRootSpan(z,l):f.$once("hook:"+M,function(){var L=l().getIntegration(Ee);if(L){a._tracingActivity=L.constructor.pushActivity("Vue Application Render");var K=L.constructor.getTransaction();K&&(a._rootSpan=K.startChild({description:"Application Render",op:Se}))}else{var U=function ge(u){if(u&&u.getScope){var n=u.getScope();if(n)return n.getTransaction()}}(l());U&&(a._rootSpan=U.startChild({description:"Application Render",op:Se}))}})},A=function(M,z){var L=Array.isArray(a._options.tracingOptions.trackComponents)?a._options.tracingOptions.trackComponents.indexOf(g)>-1:a._options.tracingOptions.trackComponents;if(a._rootSpan&&L){var K=(0,Oe._I)(),U=E[z];U?(U.finish(),a._finishRootSpan(K,l)):f.$once("hook:"+M,function(){a._rootSpan&&(E[z]=a._rootSpan.startChild({description:"Vue <"+g+">",op:Se+"."+z}))})}};a._options.tracingOptions.hooks.forEach(function(M){var z=Me[M];z?z.forEach(function(L){var K=b?P.bind(a,L):A.bind(a,L,M),U=f.$options[L];f.$options[L]=Array.isArray(U)?(0,w.__spread)([K],U):"function"==typeof U?[K,U]:[K]}):B&&C.kg.warn("Unknown hook: "+M)})}},B&&C.kg.log("You are still using the Vue.js integration, consider moving to @sentry/vue"),this._options=(0,w.__assign)((0,w.__assign)({Vue:(0,J.R)().Vue,attachProps:!0,logErrors:!1,tracing:!1},n),{tracingOptions:(0,w.__assign)({hooks:["mount","update"],timeout:2e3,trackComponents:!1},n.tracingOptions)})}return u.prototype.setupOnce=function(n,a){this._options.Vue?(this._attachErrorHandler(a),this._options.tracing&&this._startTracing(a)):B&&C.kg.error("Vue integration is missing a Vue instance")},u.prototype._getComponentName=function(n){if(!n)return we;if(n.$root===n)return"root";if(!n.$options)return we;if(n.$options.name)return n.$options.name;if(n.$options._componentTag)return n.$options._componentTag;if(n.$options.__file){var f=Te(n.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),".vue");return this._componentsCache[f]||(this._componentsCache[f]=f.replace($e,function(l,g){return g?g.toUpperCase():""}))}return we},u.prototype._finishRootSpan=function(n,a){var f=this;this._rootSpanTimer&&clearTimeout(this._rootSpanTimer),this._rootSpanTimer=setTimeout(function(){if(f._tracingActivity){var l=a().getIntegration(Ee);l&&l.constructor.popActivity(f._tracingActivity)}f._rootSpan&&f._rootSpan.finish(n)},this._options.tracingOptions.timeout)},u.prototype._startTracing=function(n){var a=this._applyTracingHooks;this._options.Vue.mixin({beforeCreate:function(){n().getIntegration(Ee)||n().getIntegration(Fe)?a(this,n):B&&C.kg.error("Vue integration has tracing enabled, but Tracing integration is not configured")}})},u.prototype._attachErrorHandler=function(n){var a=this,f=this._options.Vue.config.errorHandler;this._options.Vue.config.errorHandler=function(l,g,b){var E={};if(g)try{E.componentName=a._getComponentName(g),a._options.attachProps&&(E.propsData=g.$options.propsData)}catch{B&&C.kg.warn("Unable to extract metadata from Vue component.")}b&&(E.lifecycleHook=b),n().getIntegration(u)&&setTimeout(function(){n().withScope(function(P){P.setContext("vue",E),n().captureException(l)})}),"function"==typeof f&&f.call(a._options.Vue,l,g,b),a._options.logErrors&&(a._options.Vue.util&&a._options.Vue.util.warn("Error in "+b+': "'+(l&&l.toString())+'"',g),console.error(l))}},u.id="Vue",u}()},4346:We=>{We.exports=function C(J,B,F){function X(G,q){if(!B[G]){if(!J[G]){if(O)return O(G,!0);var S=new Error("Cannot find module '"+G+"'");throw S.code="MODULE_NOT_FOUND",S}var $=B[G]={exports:{}};J[G][0].call($.exports,function(V){return X(J[G][1][V]||V)},$,$.exports,C,J,B,F)}return B[G].exports}for(var O=void 0,Z=0;Z<F.length;Z++)X(F[Z]);return X}({1:[function(C,J,B){(function(F){"use strict";var O,X=F.MutationObserver||F.WebKitMutationObserver;if(X){var Z=0,G=new X(V),q=F.document.createTextNode("");G.observe(q,{characterData:!0}),O=function(){q.data=Z=++Z%2}}else if(!F.setImmediate&&typeof F.MessageChannel<"u"){var _=new F.MessageChannel;_.port1.onmessage=V,O=function(){_.port2.postMessage(0)}}else O="document"in F&&"onreadystatechange"in F.document.createElement("script")?function(){var k=F.document.createElement("script");k.onreadystatechange=function(){V(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},F.document.documentElement.appendChild(k)}:function(){setTimeout(V,0)};var S,$=[];function V(){S=!0;for(var k,ie,Y=$.length;Y;){for(ie=$,$=[],k=-1;++k<Y;)ie[k]();Y=$.length}S=!1}J.exports=function oe(k){1===$.push(k)&&!S&&O()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(C,J,B){"use strict";var F=C(1);function X(){}var O={},Z=["REJECTED"],G=["FULFILLED"],q=["PENDING"];function _(m){if("function"!=typeof m)throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,m!==X&&oe(this,m)}function S(m,R,x){this.promise=m,"function"==typeof R&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),"function"==typeof x&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function $(m,R,x){F(function(){var N;try{N=R(x)}catch(H){return O.reject(m,H)}N===m?O.reject(m,new TypeError("Cannot resolve promise with itself")):O.resolve(m,N)})}function V(m){var R=m&&m.then;if(m&&("object"==typeof m||"function"==typeof m)&&"function"==typeof R)return function(){R.apply(m,arguments)}}function oe(m,R){var x=!1;function N(re){x||(x=!0,O.reject(m,re))}function H(re){x||(x=!0,O.resolve(m,re))}var te=k(function ee(){R(H,N)});"error"===te.status&&N(te.value)}function k(m,R){var x={};try{x.value=m(R),x.status="success"}catch(N){x.status="error",x.value=N}return x}J.exports=_,_.prototype.catch=function(m){return this.then(null,m)},_.prototype.then=function(m,R){if("function"!=typeof m&&this.state===G||"function"!=typeof R&&this.state===Z)return this;var x=new this.constructor(X);return this.state!==q?$(x,this.state===G?m:R,this.outcome):this.queue.push(new S(x,m,R)),x},S.prototype.callFulfilled=function(m){O.resolve(this.promise,m)},S.prototype.otherCallFulfilled=function(m){$(this.promise,this.onFulfilled,m)},S.prototype.callRejected=function(m){O.reject(this.promise,m)},S.prototype.otherCallRejected=function(m){$(this.promise,this.onRejected,m)},O.resolve=function(m,R){var x=k(V,R);if("error"===x.status)return O.reject(m,x.value);var N=x.value;if(N)oe(m,N);else{m.state=G,m.outcome=R;for(var H=-1,ee=m.queue.length;++H<ee;)m.queue[H].callFulfilled(R)}return m},O.reject=function(m,R){m.state=Z,m.outcome=R;for(var x=-1,N=m.queue.length;++x<N;)m.queue[x].callRejected(R);return m},_.resolve=function ie(m){return m instanceof this?m:O.resolve(new this(X),m)},_.reject=function Y(m){var R=new this(X);return O.reject(R,m)},_.all=function pe(m){var R=this;if("[object Array]"!==Object.prototype.toString.call(m))return this.reject(new TypeError("must be an array"));var x=m.length,N=!1;if(!x)return this.resolve([]);for(var H=new Array(x),ee=0,te=-1,re=new this(X);++te<x;)se(m[te],te);return re;function se(de,he){R.resolve(de).then(function ye(le){H[he]=le,++ee===x&&!N&&(N=!0,O.resolve(re,H))},function(le){N||(N=!0,O.reject(re,le))})}},_.race=function ce(m){var R=this;if("[object Array]"!==Object.prototype.toString.call(m))return this.reject(new TypeError("must be an array"));var x=m.length,N=!1;if(!x)return this.resolve([]);for(var H=-1,ee=new this(X);++H<x;)R.resolve(m[H]).then(function(se){N||(N=!0,O.resolve(ee,se))},function(se){N||(N=!0,O.reject(ee,se))});return ee}},{1:1}],3:[function(C,J,B){(function(F){"use strict";"function"!=typeof F.Promise&&(F.Promise=C(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(C,J,B){"use strict";var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Z=function O(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function q(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(o){if("TypeError"!==o.name)throw o;for(var i=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),s=0;s<e.length;s+=1)i.append(e[s]);return i.getBlob(r.type)}}typeof Promise>"u"&&C(3);var _=Promise;function S(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function $(e,r,t){"function"==typeof r&&e.then(r),"function"==typeof t&&e.catch(t)}function V(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function oe(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var k="local-forage-detect-blob-support",ie=void 0,Y={},pe=Object.prototype.toString,ce="readonly",m="readwrite";function R(e){for(var r=e.length,t=new ArrayBuffer(r),i=new Uint8Array(t),s=0;s<r;s++)i[s]=e.charCodeAt(s);return t}function N(e){return"boolean"==typeof ie?_.resolve(ie):function x(e){return new _(function(r){var t=e.transaction(k,m),i=q([""]);t.objectStore(k).put(i,"key"),t.onabort=function(s){s.preventDefault(),s.stopPropagation(),r(!1)},t.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);r(o||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(r){return ie=r})}function H(e){var r=Y[e.name],t={};t.promise=new _(function(i,s){t.resolve=i,t.reject=s}),r.deferredOperations.push(t),r.dbReady=r.dbReady?r.dbReady.then(function(){return t.promise}):t.promise}function ee(e){var t=Y[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function te(e,r){var i=Y[e.name].deferredOperations.pop();if(i)return i.reject(r),i.promise}function re(e,r){return new _(function(t,i){if(Y[e.name]=Y[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!r)return t(e.db);H(e),e.db.close()}var s=[e.name];r&&s.push(e.version);var o=Z.open.apply(Z,s);r&&(o.onupgradeneeded=function(c){var v=o.result;try{v.createObjectStore(e.storeName),c.oldVersion<=1&&v.createObjectStore(k)}catch(d){if("ConstraintError"!==d.name)throw d;console.warn('The database "'+e.name+'" has been upgraded from version '+c.oldVersion+" to version "+c.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(c){c.preventDefault(),i(o.error)},o.onsuccess=function(){var c=o.result;c.onversionchange=function(v){v.target.close()},t(c),ee(e)}})}function se(e){return re(e,!1)}function de(e){return re(e,!0)}function he(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),s=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==r&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function le(e){return q([R(atob(e.data))],{type:e.type})}function be(e){return e&&e.__local_forage_encoded_blob}function Re(e){var r=this,t=r._initReady().then(function(){var i=Y[r._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return $(t,e,e),t}function ue(e,r,t,i){void 0===i&&(i=1);try{var s=e.db.transaction(e.storeName,r);t(null,s)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return _.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),de(e)}).then(function(){return function Ce(e){H(e);for(var r=Y[e.name],t=r.forages,i=0;i<t.length;i++){var s=t[i];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,se(e).then(function(o){return e.db=o,he(e)?de(e):o}).then(function(o){e.db=r.db=o;for(var c=0;c<t.length;c++)t[c]._dbInfo.db=o}).catch(function(o){throw te(e,o),o})}(e).then(function(){ue(e,r,t,i-1)})}).catch(t);t(o)}}var Me={_driver:"asyncStorage",_initStorage:function Ge(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var s=Y[t.name];s||(Y[t.name]=s={forages:[],db:null,dbReady:null,deferredOperations:[]}),s.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=Re);var o=[];function c(){return _.resolve()}for(var v=0;v<s.forages.length;v++){var d=s.forages[v];d!==r&&o.push(d._initReady().catch(c))}var h=s.forages.slice(0);return _.all(o).then(function(){return t.db=s.db,se(t)}).then(function(p){return t.db=p,he(t,r._defaultConfig.version)?de(t):p}).then(function(p){t.db=s.db=p,r._dbInfo=t;for(var y=0;y<h.length;y++){var I=h[y];I!==r&&(I._dbInfo.db=t.db,I._dbInfo.version=t.version)}})},_support:function G(){try{if(!Z||!Z.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function Te(e,r){var t=this,i=new _(function(s,o){t.ready().then(function(){ue(t._dbInfo,ce,function(c,v){if(c)return o(c);try{var h=v.objectStore(t._dbInfo.storeName).openCursor(),p=1;h.onsuccess=function(){var y=h.result;if(y){var I=y.value;be(I)&&(I=le(I));var T=e(I,y.key,p++);void 0!==T?s(T):y.continue()}else s()},h.onerror=function(){o(h.error)}}catch(y){o(y)}})}).catch(o)});return S(i,r),i},getItem:function je(e,r){var t=this;e=V(e);var i=new _(function(s,o){t.ready().then(function(){ue(t._dbInfo,ce,function(c,v){if(c)return o(c);try{var h=v.objectStore(t._dbInfo.storeName).get(e);h.onsuccess=function(){var p=h.result;void 0===p&&(p=null),be(p)&&(p=le(p)),s(p)},h.onerror=function(){o(h.error)}}catch(p){o(p)}})}).catch(o)});return S(i,r),i},setItem:function Pe(e,r,t){var i=this;e=V(e);var s=new _(function(o,c){var v;i.ready().then(function(){return v=i._dbInfo,"[object Blob]"===pe.call(r)?N(v.db).then(function(d){return d?r:function ye(e){return new _(function(r,t){var i=new FileReader;i.onerror=t,i.onloadend=function(s){var o=btoa(s.target.result||"");r({__local_forage_encoded_blob:!0,data:o,type:e.type})},i.readAsBinaryString(e)})}(r)}):r}).then(function(d){ue(i._dbInfo,m,function(h,p){if(h)return c(h);try{var y=p.objectStore(i._dbInfo.storeName);null===d&&(d=void 0);var I=y.put(d,e);p.oncomplete=function(){void 0===d&&(d=null),o(d)},p.onabort=p.onerror=function(){c(I.error?I.error:I.transaction.error)}}catch(T){c(T)}})}).catch(c)});return S(s,t),s},removeItem:function Be(e,r){var t=this;e=V(e);var i=new _(function(s,o){t.ready().then(function(){ue(t._dbInfo,m,function(c,v){if(c)return o(c);try{var h=v.objectStore(t._dbInfo.storeName).delete(e);v.oncomplete=function(){s()},v.onerror=function(){o(h.error)},v.onabort=function(){o(h.error?h.error:h.transaction.error)}}catch(p){o(p)}})}).catch(o)});return S(i,r),i},clear:function Le(e){var r=this,t=new _(function(i,s){r.ready().then(function(){ue(r._dbInfo,m,function(o,c){if(o)return s(o);try{var d=c.objectStore(r._dbInfo.storeName).clear();c.oncomplete=function(){i()},c.onabort=c.onerror=function(){s(d.error?d.error:d.transaction.error)}}catch(h){s(h)}})}).catch(s)});return S(t,e),t},length:function Oe(e){var r=this,t=new _(function(i,s){r.ready().then(function(){ue(r._dbInfo,ce,function(o,c){if(o)return s(o);try{var d=c.objectStore(r._dbInfo.storeName).count();d.onsuccess=function(){i(d.result)},d.onerror=function(){s(d.error)}}catch(h){s(h)}})}).catch(s)});return S(t,e),t},key:function Ee(e,r){var t=this,i=new _(function(s,o){e<0?s(null):t.ready().then(function(){ue(t._dbInfo,ce,function(c,v){if(c)return o(c);try{var d=v.objectStore(t._dbInfo.storeName),h=!1,p=d.openKeyCursor();p.onsuccess=function(){var y=p.result;y?0===e||h?s(y.key):(h=!0,y.advance(e)):s(null)},p.onerror=function(){o(p.error)}}catch(y){o(y)}})}).catch(o)});return S(i,r),i},keys:function Fe(e){var r=this,t=new _(function(i,s){r.ready().then(function(){ue(r._dbInfo,ce,function(o,c){if(o)return s(o);try{var d=c.objectStore(r._dbInfo.storeName).openKeyCursor(),h=[];d.onsuccess=function(){var p=d.result;p?(h.push(p.key),p.continue()):i(h)},d.onerror=function(){s(d.error)}}catch(p){s(p)}})}).catch(s)});return S(t,e),t},dropInstance:function Se(e,r){r=oe.apply(this,arguments);var s,t=this.config();return(e="function"!=typeof e&&e||{}).name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName),S(s=e.name?(e.name===t.name&&this._dbInfo.db?_.resolve(this._dbInfo.db):se(e).then(function(v){var d=Y[e.name],h=d.forages;d.db=v;for(var p=0;p<h.length;p++)h[p]._dbInfo.db=v;return v})).then(e.storeName?function(v){if(v.objectStoreNames.contains(e.storeName)){var d=v.version+1;H(e);var h=Y[e.name],p=h.forages;v.close();for(var y=0;y<p.length;y++){var I=p[y];I._dbInfo.db=null,I._dbInfo.version=d}return new _(function(D,j){var W=Z.open(e.name,d);W.onerror=function(ae){W.result.close(),j(ae)},W.onupgradeneeded=function(){W.result.deleteObjectStore(e.storeName)},W.onsuccess=function(){var ae=W.result;ae.close(),D(ae)}}).then(function(D){h.db=D;for(var j=0;j<p.length;j++){var W=p[j];W._dbInfo.db=D,ee(W._dbInfo)}}).catch(function(D){throw(te(e,D)||_.resolve()).catch(function(){}),D})}}:function(v){H(e);var d=Y[e.name],h=d.forages;v.close();for(var p=0;p<h.length;p++)h[p]._dbInfo.db=null;return new _(function(T,D){var j=Z.deleteDatabase(e.name);j.onerror=function(){var W=j.result;W&&W.close(),D(j.error)},j.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},j.onsuccess=function(){var W=j.result;W&&W.close(),T(W)}}).then(function(T){d.db=T;for(var D=0;D<h.length;D++)ee(h[D]._dbInfo)}).catch(function(T){throw(te(e,T)||_.resolve()).catch(function(){}),T})}):_.reject("Invalid arguments"),r),s}};var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ne=/^~~local_forage_type~([^~]+)~/,ge="__lfsc__:",n="arbf",a="blob",f="si08",l="ui08",g="uic8",b="si16",E="si32",P="ur16",A="ui32",M="fl32",z="fl64",K=Object.prototype.toString;function U(e){var i,o,c,v,d,r=.75*e.length,t=e.length,s=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var h=new ArrayBuffer(r),p=new Uint8Array(h);for(i=0;i<t;i+=4)o=fe.indexOf(e[i]),c=fe.indexOf(e[i+1]),v=fe.indexOf(e[i+2]),d=fe.indexOf(e[i+3]),p[s++]=o<<2|c>>4,p[s++]=(15&c)<<4|v>>2,p[s++]=(3&v)<<6|63&d;return h}function ne(e){var i,r=new Uint8Array(e),t="";for(i=0;i<r.length;i+=3)t+=fe[r[i]>>2],t+=fe[(3&r[i])<<4|r[i+1]>>4],t+=fe[(15&r[i+1])<<2|r[i+2]>>6],t+=fe[63&r[i+2]];return r.length%3==2?t=t.substring(0,t.length-1)+"=":r.length%3==1&&(t=t.substring(0,t.length-2)+"=="),t}var Ue={serialize:function qe(e,r){var t="";if(e&&(t=K.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===K.call(e.buffer))){var i,s=ge;e instanceof ArrayBuffer?(i=e,s+=n):(i=e.buffer,"[object Int8Array]"===t?s+=f:"[object Uint8Array]"===t?s+=l:"[object Uint8ClampedArray]"===t?s+=g:"[object Int16Array]"===t?s+=b:"[object Uint16Array]"===t?s+=P:"[object Int32Array]"===t?s+=E:"[object Uint32Array]"===t?s+=A:"[object Float32Array]"===t?s+=M:"[object Float64Array]"===t?s+=z:r(new Error("Failed to get type for BinaryArray"))),r(s+ne(i))}else if("[object Blob]"===t){var o=new FileReader;o.onload=function(){var c="~~local_forage_type~"+e.type+"~"+ne(this.result);r(ge+a+c)},o.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(c){console.error("Couldn't convert value into a JSON string: ",e),r(null,c)}},deserialize:function et(e){if(e.substring(0,9)!==ge)return JSON.parse(e);var i,r=e.substring(13),t=e.substring(9,13);if(t===a&&Ne.test(r)){var s=r.match(Ne);i=s[1],r=r.substring(s[0].length)}var o=U(r);switch(t){case n:return o;case a:return q([o],{type:i});case f:return new Int8Array(o);case l:return new Uint8Array(o);case g:return new Uint8ClampedArray(o);case b:return new Int16Array(o);case P:return new Uint16Array(o);case E:return new Int32Array(o);case A:return new Uint32Array(o);case M:return new Float32Array(o);case z:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}},stringToBuffer:U,bufferToString:ne};function He(e,r,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function ve(e,r,t,i,s,o){e.executeSql(t,i,s,function(c,v){v.code===v.SYNTAX_ERR?c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(d,h){h.rows.length?o(d,v):He(d,r,function(){d.executeSql(t,i,s,o)},o)},o):o(c,v)},o)}function Ke(e,r,t,i){var s=this;e=V(e);var o=new _(function(c,v){s.ready().then(function(){void 0===r&&(r=null);var d=r,h=s._dbInfo;h.serializer.serialize(r,function(p,y){y?v(y):h.db.transaction(function(I){ve(I,h,"INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[e,p],function(){c(d)},function(T,D){v(D)})},function(I){if(I.code===I.QUOTA_ERR){if(i>0)return void c(Ke.apply(s,[e,d,t,i-1]));v(I)}})})}).catch(v)});return S(o,t),o}var vt={_driver:"webSQLStorage",_initStorage:function tt(e){var r=this,t={db:null};if(e)for(var i in e)t[i]="string"!=typeof e[i]?e[i].toString():e[i];var s=new _(function(o,c){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(v){return c(v)}t.db.transaction(function(v){He(v,t,function(){r._dbInfo=t,o()},function(d,h){c(h)})},c)});return t.serializer=Ue,s},_support:function $e(){return"function"==typeof openDatabase}(),iterate:function nt(e,r){var t=this,i=new _(function(s,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(v){ve(v,c,"SELECT * FROM "+c.storeName,[],function(d,h){for(var p=h.rows,y=p.length,I=0;I<y;I++){var T=p.item(I),D=T.value;if(D&&(D=c.serializer.deserialize(D)),void 0!==(D=e(D,T.key,I+1)))return void s(D)}s()},function(d,h){o(h)})})}).catch(o)});return S(i,r),i},getItem:function rt(e,r){var t=this;e=V(e);var i=new _(function(s,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(v){ve(v,c,"SELECT * FROM "+c.storeName+" WHERE key = ? LIMIT 1",[e],function(d,h){var p=h.rows.length?h.rows.item(0).value:null;p&&(p=c.serializer.deserialize(p)),s(p)},function(d,h){o(h)})})}).catch(o)});return S(i,r),i},setItem:function ot(e,r,t){return Ke.apply(this,[e,r,t,1])},removeItem:function it(e,r){var t=this;e=V(e);var i=new _(function(s,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(v){ve(v,c,"DELETE FROM "+c.storeName+" WHERE key = ?",[e],function(){s()},function(d,h){o(h)})})}).catch(o)});return S(i,r),i},clear:function at(e){var r=this,t=new _(function(i,s){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){ve(c,o,"DELETE FROM "+o.storeName,[],function(){i()},function(v,d){s(d)})})}).catch(s)});return S(t,e),t},length:function st(e){var r=this,t=new _(function(i,s){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){ve(c,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(v,d){var h=d.rows.item(0).c;i(h)},function(v,d){s(d)})})}).catch(s)});return S(t,e),t},key:function ut(e,r){var t=this,i=new _(function(s,o){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(v){ve(v,c,"SELECT key FROM "+c.storeName+" WHERE id = ? LIMIT 1",[e+1],function(d,h){var p=h.rows.length?h.rows.item(0).key:null;s(p)},function(d,h){o(h)})})}).catch(o)});return S(i,r),i},keys:function ft(e){var r=this,t=new _(function(i,s){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(c){ve(c,o,"SELECT key FROM "+o.storeName,[],function(v,d){for(var h=[],p=0;p<d.rows.length;p++)h.push(d.rows.item(p).key);i(h)},function(v,d){s(d)})})}).catch(s)});return S(t,e),t},dropInstance:function lt(e,r){r=oe.apply(this,arguments);var t=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var s,i=this;return S(s=e.name?new _(function(o){var c;c=e.name===t.name?i._dbInfo.db:openDatabase(e.name,"","",0),o(e.storeName?{db:c,storeNames:[e.storeName]}:function ct(e){return new _(function(r,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,o){for(var c=[],v=0;v<o.rows.length;v++)c.push(o.rows.item(v).name);r({db:e,storeNames:c})},function(s,o){t(o)})},function(i){t(i)})})}(c))}).then(function(o){return new _(function(c,v){o.db.transaction(function(d){function h(T){return new _(function(D,j){d.executeSql("DROP TABLE IF EXISTS "+T,[],function(){D()},function(W,ae){j(ae)})})}for(var p=[],y=0,I=o.storeNames.length;y<I;y++)p.push(h(o.storeNames[y]));_.all(p).then(function(){c()}).catch(function(T){v(T)})},function(d){v(d)})})}):_.reject("Invalid arguments"),r),s}};function Je(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function pt(){return!function ht(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}()||localStorage.length>0}var Rt={_driver:"localStorageWrapper",_initStorage:function gt(e){var t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Je(e,this._defaultConfig),pt()?(this._dbInfo=t,t.serializer=Ue,_.resolve()):_.reject()},_support:function dt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function yt(e,r){var t=this,i=t.ready().then(function(){for(var s=t._dbInfo,o=s.keyPrefix,c=o.length,v=localStorage.length,d=1,h=0;h<v;h++){var p=localStorage.key(h);if(0===p.indexOf(o)){var y=localStorage.getItem(p);if(y&&(y=s.serializer.deserialize(y)),void 0!==(y=e(y,p.substring(c),d++)))return y}}});return S(i,r),i},getItem:function _t(e,r){var t=this;e=V(e);var i=t.ready().then(function(){var s=t._dbInfo,o=localStorage.getItem(s.keyPrefix+e);return o&&(o=s.serializer.deserialize(o)),o});return S(i,r),i},setItem:function xt(e,r,t){var i=this;e=V(e);var s=i.ready().then(function(){void 0===r&&(r=null);var o=r;return new _(function(c,v){var d=i._dbInfo;d.serializer.serialize(r,function(h,p){if(p)v(p);else try{localStorage.setItem(d.keyPrefix+e,h),c(o)}catch(y){("QuotaExceededError"===y.name||"NS_ERROR_DOM_QUOTA_REACHED"===y.name)&&v(y),v(y)}})})});return S(s,t),s},removeItem:function wt(e,r){var t=this;e=V(e);var i=t.ready().then(function(){localStorage.removeItem(t._dbInfo.keyPrefix+e)});return S(i,r),i},clear:function mt(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var o=localStorage.key(s);0===o.indexOf(i)&&localStorage.removeItem(o)}});return S(t,e),t},length:function St(e){var t=this.keys().then(function(i){return i.length});return S(t,e),t},key:function bt(e,r){var t=this,i=t.ready().then(function(){var o,s=t._dbInfo;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(s.keyPrefix.length)),o});return S(i,r),i},keys:function Et(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo,s=localStorage.length,o=[],c=0;c<s;c++){var v=localStorage.key(c);0===v.indexOf(i.keyPrefix)&&o.push(v.substring(i.keyPrefix.length))}return o});return S(t,e),t},dropInstance:function It(e,r){if(r=oe.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var s,i=this;return S(s=e.name?new _(function(o){o(e.storeName?Je(e,i._defaultConfig):e.name+"/")}).then(function(o){for(var c=localStorage.length-1;c>=0;c--){var v=localStorage.key(c);0===v.indexOf(o)&&localStorage.removeItem(v)}}):_.reject("Invalid arguments"),r),s}},At=function(r,t){return r===t||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t)},Tt=function(r,t){for(var i=r.length,s=0;s<i;){if(At(r[s],t))return!0;s++}return!1},Ze=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},xe={},Qe={},me={INDEXEDDB:Me,WEBSQL:vt,LOCALSTORAGE:Rt},Ot=[me.INDEXEDDB._driver,me.WEBSQL._driver,me.LOCALSTORAGE._driver],De=["dropInstance"],Ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(De),Nt={description:"",driver:Ot.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Dt(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function ke(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(arguments[0][t]=Ze(r[t])?r[t].slice():r[t])}return arguments[0]}var Ct=function(){function e(r){for(var t in function X(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),me)if(me.hasOwnProperty(t)){var i=me[t],s=i._driver;this[t]=s,xe[s]||this.defineDriver(i)}this._defaultConfig=ke({},Nt),this._config=ke({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if("object"===(typeof t>"u"?"undefined":F(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if("storeName"===i&&(t[i]=t[i].replace(/\W/g,"_")),"version"===i&&"number"!=typeof t[i])return new Error("Database version must be a number.");this._config[i]=t[i]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,s){var o=new _(function(c,v){try{var d=t._driver,h=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void v(h);for(var p=Ve.concat("_initStorage"),y=0,I=p.length;y<I;y++){var T=p[y];if((!Tt(De,T)||t[T])&&"function"!=typeof t[T])return void v(h)}!function(){for(var Ie=function(Lt){return function(){var Ft=new Error("Method "+Lt+" is not implemented by the current driver"),Xe=_.reject(Ft);return S(Xe,arguments[arguments.length-1]),Xe}},Ye=0,Bt=De.length;Ye<Bt;Ye++){var ze=De[Ye];t[ze]||(t[ze]=Ie(ze))}}();var W=function(Ie){xe[d]&&console.info("Redefining LocalForage driver: "+d),xe[d]=t,Qe[d]=Ie,c()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(W,v):W(!!t._support):W(!0)}catch(ae){v(ae)}});return $(o,i,s),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,s){var o=xe[t]?_.resolve(xe[t]):_.reject(new Error("Driver not found."));return $(o,i,s),o},e.prototype.getSerializer=function(t){var i=_.resolve(Ue);return $(i,t),i},e.prototype.ready=function(t){var i=this,s=i._driverSet.then(function(){return null===i._ready&&(i._ready=i._initDriver()),i._ready});return $(s,t,t),s},e.prototype.setDriver=function(t,i,s){var o=this;Ze(t)||(t=[t]);var c=this._getSupportedDrivers(t);function v(){o._config.driver=o.driver()}function d(y){return o._extend(y),v(),o._ready=o._initStorage(o._config),o._ready}var p=null!==this._driverSet?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=p.then(function(){var y=c[0];return o._dbInfo=null,o._ready=null,o.getDriver(y).then(function(I){o._driver=I._driver,v(),o._wrapLibraryMethodsWithReady(),o._initDriver=function h(y){return function(){var I=0;return function T(){for(;I<y.length;){var D=y[I];return I++,o._dbInfo=null,o._ready=null,o.getDriver(D).then(d).catch(T)}v();var j=new Error("No available storage method found.");return o._driverSet=_.reject(j),o._driverSet}()}}(c)})}).catch(function(){v();var y=new Error("No available storage method found.");return o._driverSet=_.reject(y),o._driverSet}),$(this._driverSet,i,s),this._driverSet},e.prototype.supports=function(t){return!!Qe[t]},e.prototype._extend=function(t){ke(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],s=0,o=t.length;s<o;s++){var c=t[s];this.supports(c)&&i.push(c)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Ve.length;t<i;t++)Dt(this,Ve[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Pt=new Ct;J.exports=Pt},{3:3}]},{},[4])(4)}}]);