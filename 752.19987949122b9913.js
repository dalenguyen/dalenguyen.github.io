(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[752],{752:(G,y,i)=>{i.r(y),i.d(y,{BlogModule:()=>L});var s=i(7503),v=i(4921),d=i(1330),P=i(2973),h=i(4310);function C(n,o,e,r,a,l,c){try{var g=n[l](c),u=g.value}catch(D){return void e(D)}g.done?o(u):Promise.resolve(u).then(r,a)}function M(n){return function(){var o=this,e=arguments;return new Promise(function(r,a){var l=n.apply(o,e);function c(u){C(l,r,a,c,g,"next",u)}function g(u){C(l,r,a,c,g,"throw",u)}c(void 0)})}}var B=i(8467),S=i.n(B),m=i(4082),I=i(1269),t=i(118);let p=(()=>{class n{get articles(){return this.getDevArticles()}constructor(e){this.http=e,this.devBaseUrl="https://dev.to/api/articles?username=dalenguyen",this.butterService=S()(I.N.butterCMSToken)}getDevArticles(){var e=this;return M(function*(){let r=[];try{r=yield e.http.get(e.devBaseUrl).toPromise()}catch(a){(0,m.captureException)(a),console.error(a)}return r})()}getButterArticles(){return this.butterService.post.list({page:1,page_size:10,exclude_body:!0}).then(e=>(console.log("Content from ButterCMS"),e.data.data)).catch(e=>((0,m.captureException)(e),console.error(e),[]))}getButterArticle(e){return this.butterService.post.retrieve(e,{locale:"en"}).then(r=>r.data.data).catch(r=>((0,m.captureException)(r),null))}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(v.HttpClient))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b=(()=>{class n{constructor(e){this.http=e,this.devBaseUrl="https://dev.to/api/articles/"}getDevArticle(e){var r=this;return M(function*(){let a=null;try{a=yield r.http.get(`${r.devBaseUrl}/${e}`).toPromise()}catch(l){(0,m.captureException)(l),console.error(l)}return a})()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(v.HttpClient))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=i(3835),f=i(5404);function j(n,o){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",4)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"img",5),t.\u0275\u0275elementStart(4,"mat-card-content")(5,"p"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-card-actions")(8,"button",6),t.\u0275\u0275listener("click",function(){const l=t.\u0275\u0275restoreView(e).$implicit,c=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(c.openPost(l))}),t.\u0275\u0275text(9,"READ MORE"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=o.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.title),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("src",e.featured_image,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275propertyInterpolate("alt",e.title),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",e.summary," ")}}function O(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"section",2),t.\u0275\u0275template(1,j,10,4,"mat-card",3),t.\u0275\u0275elementEnd()),2&n){const e=o.ngIf;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e)}}let T=(()=>{class n{constructor(e,r,a){this.blogService=e,this.router=r,this.title=a,this.title.setTitle("Blog | Dale Nguyen"),this.articles$=this.blogService.getButterArticles()}openPost(e){this.router.navigate(["/blog",e.slug])}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(p),t.\u0275\u0275directiveInject(d.Router),t.\u0275\u0275directiveInject(h.Title))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["dalenguyen-blog"]],decls:5,vars:3,consts:[["id","blog"],["id","articles",4,"ngIf"],["id","articles"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],[3,"src","alt"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h1"),t.\u0275\u0275text(2,"Blog"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,O,2,1,"section",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(4,1,r.articles$)))},dependencies:[s.NgForOf,s.NgIf,_.MatLegacyButton,f.MatLegacyCard,f.MatLegacyCardContent,f.MatLegacyCardActions,s.AsyncPipe],styles:["[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]{margin:20px}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-header-text[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;padding:1rem 0}"]}),n})();function E(n,o){if(1&n&&(t.\u0275\u0275elementStart(0,"div",3)(1,"header")(2,"h1"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(9,"article",4),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.article.title),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.article?"Written by "+(null==e.article?null:e.article.author.first_name):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,4,null==e.article?null:e.article.published)),t.\u0275\u0275advance(2),t.\u0275\u0275property("innerHTML",null==e.article?null:e.article.body,t.\u0275\u0275sanitizeHtml)}}const A=function(){return["/blog"]};let F=(()=>{class n{constructor(e,r,a){this.blogService=e,this.title=r,this.meta=a}ngOnInit(){this.article=this.blogService.currentArticle,this.title.setTitle(`${this.article.seo_title} | Dale Nguyen`),this.meta.updateTag({name:"og:title",content:this.article.seo_title}),this.meta.updateTag({name:"og:description",content:this.article.summary}),this.meta.updateTag({name:"og:url",content:this.article.url}),this.meta.updateTag({name:"og:image",content:this.article.featured_image}),this.meta.updateTag({name:"type",content:"article"}),this.meta.updateTag({name:"keywords",content:this.article.categories.reduce((e,r)=>r.name+","+e,"")})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(p),t.\u0275\u0275directiveInject(h.Title),t.\u0275\u0275directiveInject(h.Meta))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["dalenguyen-post"]],decls:7,vars:4,consts:[["id","blogNav"],[3,"routerLink"],["id","post",4,"ngIf"],["id","post"],[3,"innerHTML"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"a",1),t.\u0275\u0275text(2,"Blog"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3," / "),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,E,10,6,"div",2)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(3,A)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(r.article?null==r.article?null:r.article.slug:"article-not-found"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.article))},dependencies:[s.NgIf,d.RouterLink,s.DatePipe],styles:["#blogNav,#post{margin:16px}#post img{width:100%}\n"],encapsulation:2}),n})(),x=(()=>{class n{constructor(e){this.blogService=e}canActivate(e,r){const a=r.url.split("/")[2];return this.blogService.currentArticle&&this.blogService.currentArticle.slug===a?(console.log("Get article from cache..."),Promise.resolve(!0)):(console.log("Get article from api..."),this.blogService.getButterArticle(a).then(l=>!!l&&(this.blogService.currentArticle=l,!0)))}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(p))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const N=[{path:"",component:T},{path:":slug",canActivate:[x],component:F}];let R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[d.RouterModule.forChild(N),d.RouterModule]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({providers:[p,b,x],imports:[s.CommonModule,d.RouterModule,v.HttpClientModule,R,P.MaterialModule]}),n})()}}]);