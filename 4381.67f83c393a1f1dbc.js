(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[4381],{4381:($,S,a)=>{a.r(S),a.d(S,{BlogModule:()=>m});var d=a(2003),x=a(3648),v=a(8408),b=a(2973),P=a(9049);function B(r,e,n,o,i,p,s){try{var C=r[p](s),h=C.value}catch(D){return void n(D)}C.done?e(h):Promise.resolve(h).then(o,i)}function _(r){return function(){var e=this,n=arguments;return new Promise(function(o,i){var p=r.apply(e,n);function s(h){B(p,o,i,s,C,"next",h)}function C(h){B(p,o,i,s,C,"throw",h)}s(void 0)})}}var j=a(4538),O=a.n(j),M=a(1552),T=a(9046),t=a(5147);class c{constructor(e){this.http=e,this.devBaseUrl="https://dev.to/api/articles?username=dalenguyen",this.butterService=O()(T.N.butterCMSToken)}get articles(){return this.getDevArticles()}getDevArticles(){var e=this;return _(function*(){let n=[];try{n=yield e.http.get(e.devBaseUrl).toPromise()}catch(o){(0,M.captureException)(o),console.error(o)}return n})()}getButterArticles(){return this.butterService.post.list({page:1,page_size:10,exclude_body:!0}).then(e=>(console.log("Content from ButterCMS"),e.data.data)).catch(e=>((0,M.captureException)(e),console.error(e),[]))}getButterArticle(e){return this.butterService.post.retrieve(e,{locale:"en"}).then(n=>n.data.data).catch(n=>((0,M.captureException)(n),null))}}c.\u0275fac=function(e){return new(e||c)(t.\u0275\u0275inject(x.HttpClient))},c.\u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"});class u{constructor(e){this.http=e,this.devBaseUrl="https://dev.to/api/articles/"}getDevArticle(e){var n=this;return _(function*(){let o=null;try{o=yield n.http.get(`${n.devBaseUrl}/${e}`).toPromise()}catch(i){(0,M.captureException)(i),console.error(i)}return o})()}}u.\u0275fac=function(e){return new(e||u)(t.\u0275\u0275inject(x.HttpClient))},u.\u0275prov=t.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"});var E=a(6929),I=a(3718);function A(r,e){if(1&r){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-card",4)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"img",5),t.\u0275\u0275elementStart(4,"mat-card-content")(5,"p"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"mat-card-actions")(8,"button",6),t.\u0275\u0275listener("click",function(){const p=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.openPost(p))}),t.\u0275\u0275text(9,"READ MORE"),t.\u0275\u0275elementEnd()()()}if(2&r){const n=e.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.title),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("src",n.featured_image,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275propertyInterpolate("alt",n.title),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.summary," ")}}function F(r,e){if(1&r&&(t.\u0275\u0275elementStart(0,"section",2),t.\u0275\u0275template(1,A,10,4,"mat-card",3),t.\u0275\u0275elementEnd()),2&r){const n=e.ngIf;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n)}}class f{constructor(e,n,o){this.blogService=e,this.router=n,this.title=o,this.title.setTitle("Blog | Dale Nguyen"),this.articles$=this.blogService.getButterArticles()}openPost(e){this.router.navigate(["/blog",e.slug])}}function N(r,e){if(1&r&&(t.\u0275\u0275elementStart(0,"div",3)(1,"header")(2,"h1"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"date"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(9,"article",4),t.\u0275\u0275elementEnd()),2&r){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.article.title),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.article?"Written by "+(null==n.article?null:n.article.author.first_name):""," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,4,null==n.article?null:n.article.published)),t.\u0275\u0275advance(2),t.\u0275\u0275property("innerHTML",null==n.article?null:n.article.body,t.\u0275\u0275sanitizeHtml)}}f.\u0275fac=function(e){return new(e||f)(t.\u0275\u0275directiveInject(c),t.\u0275\u0275directiveInject(v.Router),t.\u0275\u0275directiveInject(P.Title))},f.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["dalenguyen-blog"]],decls:5,vars:3,consts:[["id","blog"],["id","articles",4,"ngIf"],["id","articles"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],[3,"src","alt"],["mat-button","",3,"click"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h1"),t.\u0275\u0275text(2,"Blog"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,F,2,1,"section",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(4,1,n.articles$)))},dependencies:[d.NgForOf,d.NgIf,E.MatLegacyButton,I.MatLegacyCard,I.MatLegacyCardContent,I.MatLegacyCardActions,d.AsyncPipe],styles:["[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]{margin:20px}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-header-text[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   #blog[_ngcontent-%COMP%]   #articles[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;padding:1rem 0}"]});const L=function(){return["/blog"]};class y{constructor(e,n,o){this.blogService=e,this.title=n,this.meta=o}ngOnInit(){this.article=this.blogService.currentArticle,this.title.setTitle(`${this.article.seo_title} | Dale Nguyen`),this.meta.updateTag({name:"og:title",content:this.article.seo_title}),this.meta.updateTag({name:"og:description",content:this.article.summary}),this.meta.updateTag({name:"og:url",content:this.article.url}),this.meta.updateTag({name:"og:image",content:this.article.featured_image}),this.meta.updateTag({name:"type",content:"article"}),this.meta.updateTag({name:"keywords",content:this.article.categories.reduce((e,n)=>n.name+","+e,"")})}}y.\u0275fac=function(e){return new(e||y)(t.\u0275\u0275directiveInject(c),t.\u0275\u0275directiveInject(P.Title),t.\u0275\u0275directiveInject(P.Meta))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["dalenguyen-post"]],decls:7,vars:4,consts:[["id","blogNav"],[3,"routerLink"],["id","post",4,"ngIf"],["id","post"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"a",1),t.\u0275\u0275text(2,"Blog"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(3," / "),t.\u0275\u0275elementStart(4,"span"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,N,10,6,"div",2)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(3,L)),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(n.article?null==n.article?null:n.article.slug:"article-not-found"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.article))},dependencies:[d.NgIf,v.RouterLink,d.DatePipe],styles:["#blogNav,#post{margin:16px}#post img{width:100%}\n"],encapsulation:2});class l{constructor(e){this.blogService=e}canActivate(e,n){const o=n.url.split("/")[2];return this.blogService.currentArticle&&this.blogService.currentArticle.slug===o?(console.log("Get article from cache..."),Promise.resolve(!0)):(console.log("Get article from api..."),this.blogService.getButterArticle(o).then(i=>!!i&&(this.blogService.currentArticle=i,!0)))}}l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275inject(c))},l.\u0275prov=t.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac});const R=[{path:"",component:f},{path:":slug",canActivate:[l],component:y}];class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=t.\u0275\u0275defineNgModule({type:g}),g.\u0275inj=t.\u0275\u0275defineInjector({imports:[v.RouterModule.forChild(R),v.RouterModule]});class m{}m.\u0275fac=function(e){return new(e||m)},m.\u0275mod=t.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=t.\u0275\u0275defineInjector({providers:[c,u,l],imports:[d.CommonModule,v.RouterModule,x.HttpClientModule,g,b.MaterialModule]})}}]);